/*!
* Angular Directives For Accessible Applications
*
* Copyright (C) 2014 Deque Systems Inc., All Rights Reserved
*
* See the project LICENSE file for usage - https://github.com/dequelabs/ngA11y/blob/master/LICENSE
*/
!function(){"use strict";function a(a){for(var b=a[0].querySelectorAll(d),c=[],e=0,f=b.length;f>e;e++){var g=b[e],h=g.getAttribute("aria-hidden");if(!h||"true"!==h.toLowerCase()){var i=g.getAttribute("tabindex");i&&"-1"===i||c.push(b[e])}}return c.length>0?{first:c[0],last:c[c.length-1]}:void 0}var b;try{b=angular.module("ngA11y")}catch(c){b=angular.module("ngA11y",[])}var d="a, input, [tabindex], select, button, textarea, area";b.directive("nga11yModal",["$log",function(){return{link:function(b,c){c.attr("tabindex","-1");var d=c[0].querySelector("[nga11y-modal-closer]");c.on("keydown",function(b){if(27===b.which)return void(d&&angular.element(d).triggerHandler("click"));if(9===b.which){var e=a(c);e&&(e.first===e.last?(e.first.focus(),b.preventDefault()):b.target===e.first&&b.shiftKey?(e.last.focus(),b.preventDefault()):b.target!==e.last||b.shiftKey||(e.first.focus(),b.preventDefault()))}})}}}])}();